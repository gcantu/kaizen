{% load widget_tweaks %}

<div class="line-item-table-wrapper">
  <div class="row mt">
    <div class = "col-lg-12 col-md-12 col-sm-12">
      <table id="manufacturing-table" class="textcenter m-table">
        <thead>
          <tr>
            <th colspan=3></th>
            <th colspan=2>L-Frame</th>
            <th colspan=5>Height</th>
            <th>Door Handle</th>
            <th>Resaque</th>
            <th colspan=2>Louver</th>
            <th colspan=2>Rail</th>
            <th colspan=2>Stile</th>
            <th colspan=4></th>
          </tr>
          <tr>
            <th></th>
            <th>Product Type</th>
            <th>Location</th>
            <th>Width</th>
            <th>Height</th>
            <th>Center</th>
            <th>Left</th>
            <th>Right</th>
            <th>Divider</th>
            <th>Door Knob</th>
            <th>Cutout</th>
            <th>L Frame</th>
            <th>Qty</th>
            <th>Measure</th>
            <th>Qty</th>
            <th>Measure</th>
            <th>Qty</th>
            <th>Measure</th>
            <th>Trim</th>
            <th>Tilt Rod</th>
            <th>Doors</th>
            <th>Hinges</th>
          </tr>
        </thead>
        <tbody>
          {% for item in lineitem %}
            <tr>
              <td>{{ forloop.counter }}</td>
              <td>{{ item.shutter_type }}</td>
              <td>{{ item.location }}</td>
              <td>{{ item.LframeWidth }}</td>
              <td>{{ item.LframeHeight|default_if_none:"" }}</td>
              <td>{{ item.LframeHeightCenter|default_if_none:"" }}</td>
              <td>{{ item.LframeHeightLeft|default_if_none:"" }}</td>
              <td>{{ item.LframeHeightRight|default_if_none:"" }}</td>
              <td>{{ item.height_divider|default_if_none:"" }} {{ item.height_divider_fraction_display|default_if_none:"" }}</td>
              <td>{{ item.height_door_knob|default_if_none:"" }} {{ item.height_door_knob_fraction_display|default_if_none:"" }}</td>
              <td>{{ item.door_handle_cutout|default_if_none:"" }}</td>
              <td>{{ item.resaque_lframe|yesno }}</td>
              <td>{{ item.louverQty }}</td>
              <td>{{ item.louverMeasure }}</td>
              <td>{{ item.railQty }}</td>
              <td>{{ item.railMeasure }}</td>
              <td>{{ item.stileQty }}</td>
              <td>{{ item.stileMeasure }}</td>
              <td>{{ item.trim }}</td>
              <td>{{ item.tiltRod }}</td>
              <td>{{ item.panels }}</td>
              <td>{{ item.hinges }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

<br>

<div class="row mt">
  <div class = "col-lg-8 col-md-8 col-sm-12">
    <table id="manufacturing-materials-table" class="textcenter m-table">
      <thead>
        <th colspan=9>Materials needed:</th>
      </thead>
      <tbody>
        <tr>
          <td>L frame</td>
          <td>Louver</td>
          <td>Rail</td>
          <td>Stile</td>
          <td>Tilt Rod</td>
          <td>Doors</td>
          <td>Hinges</td>
          <td>Magnets</td>
          <td>Screws</td>
        </tr>
        <tr>
          <td>{{ materials.totalLframeMaterial }} ft.</td>
          <td>{{ materials.totalLouverMaterial }} ft.</td>
          <td>{{ materials.totalRailMaterial }} ft.</td>
          <td>{{ materials.totalStileMaterial }} ft.</td>
          <td>{{ materials.totalTiltRodMaterial }} ft.</td>
          <td>{{ materials.totalPanelMaterial }} ft.</td>
          <td>{{ materials.totalHinges }}</td>
          <td>{{ materials.totalMagnets }}</td>
          <td>{{ materials.totalScrews }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="row mt">
  <div class = "col-lg-8 col-md-8 col-sm-12">
    <table id="manufacturing-details-table" class="textcenter m-table">
      <thead>
        <th colspan=7>Order Details:</th>
      </thead>
      <tbody>
        <tr>
          <td>Finish</td>
          <td>Stain</td>
          <td>Color</td>
          <td>Louver</td>
          <td>Tilt Rod</td>
          <td>Hinge Color</td>
        </tr>
        <tr>
          <td>{{ proposal.finish }}</td>
          <td>{{ proposal.stain }}</td>
          <td>{{ proposal.color }}</td>
          <td>{{ proposal.get_louver_display }}</td>
          <td>{{ proposal.tilt_rod }}</td>
          <td>{{ proposal.hinge_color }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
